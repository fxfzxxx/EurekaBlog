---
title: 小项目 五子棋游戏
description: 一个小游戏项目, 文章包含了遇到的一些问题, 和项目源码
authors:
  - Aaron
tags:
  - All
categories:
  - Technology
series:
  - Java 复习
  - 项目
date: '2021-12-21'
lastmod: '2021-12-21'
featuredImage: images/java-logo.png
draft: false
---

## 遇到的一些细节上的问题

### g.drawLine() 方法无法执行的原因

- 画不出来的原因是 paint 方法在创建 JFrame 实例的时候自动执行, 和 drawLine 方法是并发的, 画线的线程可能会在 paint 方法之前就执行了.
- 此时, 通过手动将 drawLine 方法延迟执行, 就可以避免前后颠倒的情况发生
- 另外, 通过重写 paint 方法, 也可以达到同样的目的

```java
try {
    Thread.sleep(3000);
} catch (InterruptedException e) {
    e.printStackTrace();
}
g.drawLine(20,20,50,50);
```

### 单独通过单击改变棋子颜色

- 未使用数组的情况下

```java
if (flag == 1) {
    gr.setColor(Color.black);
    gr.fillOval(X0 + chessX * SIZE - 25, Y0 + chessY * SIZE - 25, 50, 50);
    System.out.println("下黑棋");
    flag = 2;
}
else if (flag == 2) {
    gr.setColor(Color.white);
    gr.fillOval(X0 + chessX * SIZE - 25, Y0 + chessY * SIZE - 25, 50, 50);
    System.out.println("下白棋");
    flag = 1;
}
System.out.println("棋子坐标为:" + chessX + "," + chessY + " 棋子颜色为: " + flag);
```

